2d855752be0b428a0c946cf451ab9c7d
"use strict";
/**
 * Tree-sitter based printer for OpenSCAD
 *
 * Converts AST to formatted code using the Doc IR
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.printTree = printTree;
const doc_1 = require("./doc");
/**
 * Print a tree-sitter syntax tree as formatted code
 */
function printTree(tree, options) {
    const doc = printNode(tree.rootNode, options);
    return printDoc(doc, options);
}
/**
 * Print a single AST node
 */
function printNode(node, options) {
    const { type, text } = node;
    // Debug log for unhandled node types
    if (!['source_file', 'module_declaration', 'function_declaration', 'block', 'union_block',
        'if_statement', 'if_block', 'for_statement', 'for_block', 'assignment', 'binary_expression',
        'unary_expression', 'call_expression', 'module_call', 'function_call',
        'transform_chain', 'arguments', 'parameters_declaration', 'parameter', 'parenthesized_assignments',
        'parenthesized_expression', 'ternary_expression', 'index_expression', 'dot_index_expression',
        'list', 'vector', 'array', 'range',
        'comment', 'identifier', 'number', 'decimal', 'integer', 'float', 'string', 'boolean',
        'special_variable', 'use_statement', 'include_statement', 'include_path',
        'assert_statement', 'assert_expression',
        'modifier', 'modifier_chain', 'intersection_for', 'intersection_for_block',
        'use', 'if', 'else', 'module',
        '(', ')', '[', ']', '{', '}', ',', ';', '=', ':', 'for', 'whitespace', '\n',
        '$', '.', '#', '%', '?', '!'].includes(type)) {
        console.log(`[Formatter] Unknown node type: "${type}", text: "${text.substring(0, 50)}"`);
    }
    // Handle different node types
    switch (type) {
        case 'source_file':
            return printSourceFile(node, options);
        case 'module_declaration':
            return printModuleDeclaration(node, options);
        case 'function_declaration':
            return printFunctionDeclaration(node, options);
        case 'block':
        case 'union_block':
            return printBlock(node, options);
        case 'if_statement':
        case 'if_block':
            return printIfStatement(node, options);
        case 'for_statement':
        case 'for_block':
            return printForStatement(node, options);
        case 'intersection_for':
        case 'intersection_for_block':
            return printIntersectionFor(node, options);
        case 'assignment':
            return printAssignment(node, options);
        case 'binary_expression':
            return printBinaryExpression(node, options);
        case 'unary_expression':
            return printUnaryExpression(node, options);
        case 'call_expression':
        case 'module_call':
        case 'function_call':
            return printCallExpression(node, options);
        case 'transform_chain':
            return printTransformChain(node, options);
        case 'arguments':
            return printArguments(node, options);
        case 'list':
        case 'vector':
        case 'array':
            return printList(node, options);
        case 'range':
            return printRange(node, options);
        case 'ternary_expression':
            return printTernaryExpression(node, options);
        case 'index_expression':
            return printIndexExpression(node, options);
        case 'dot_index_expression':
            return printDotIndexExpression(node, options);
        case 'parenthesized_expression':
            return printParenthesizedExpression(node, options);
        case 'use_statement':
            return printUseStatement(node, options);
        case 'assert_statement':
        case 'assert_expression':
            return printAssert(node, options);
        case 'modifier_chain':
            return printModifierChain(node, options);
        case 'comment':
            return text;
        case 'parameter':
        case 'identifier':
        case 'number':
        case 'decimal':
        case 'integer':
        case 'float':
        case 'string':
        case 'boolean':
        case 'special_variable':
            return text;
        default:
            // For unknown nodes, try to print children or fall back to text
            if (node.childCount > 0) {
                return printChildren(node, options);
            }
            return text;
    }
}
function printSourceFile(node, options) {
    const parts = [];
    let lastWasComment = false;
    let lastWasDeclaration = false;
    for (let i = 0; i < node.childCount; i++) {
        const child = node.child(i);
        if (!child)
            continue;
        // Skip whitespace nodes and semicolons (we'll add them ourselves)
        if (child.type === 'whitespace' || child.type === '\n' || child.type === ';') {
            continue;
        }
        const childDoc = printNode(child, options);
        // Add blank line between sections (when we see a new comment after code)
        const isComment = child.type === 'comment';
        if (i > 0 && isComment && !lastWasComment) {
            parts.push((0, doc_1.hardline)());
        }
        // Add blank line between top-level declarations (but not after comments)
        const isDecl = isDeclaration(child.type);
        if (i > 0 && isDecl && lastWasDeclaration) {
            parts.push((0, doc_1.hardline)());
        }
        parts.push(childDoc);
        // Add semicolon for statements that need it
        if (needsSemicolon(child.type, child)) {
            parts.push(';');
        }
        parts.push((0, doc_1.hardline)());
        lastWasComment = isComment;
        lastWasDeclaration = isDecl;
    }
    return (0, doc_1.concat)(parts);
}
function printModuleDeclaration(node, options) {
    const parts = ['module', ' ']; // Always add space after 'module'
    for (const child of node.children) {
        if (!child)
            continue;
        if (child.type === 'module') {
            // Skip the 'module' keyword itself
            continue;
        }
        else if (child.type === 'identifier') {
            parts.push(child.text);
        }
        else if (child.type === 'parameters_declaration') {
            parts.push(printParameters(child, options));
        }
        else if (child.type === 'block' || child.type === 'union_block') {
            parts.push(' ', printBlock(child, options));
        }
        else if (child.type === 'whitespace' || child.type === '\n' || child.type === ';') {
            // Skip
            continue;
        }
        else {
            // This handles module body without braces (transform chains, etc.)
            parts.push(' ', printNode(child, options));
        }
    }
    return (0, doc_1.concat)(parts);
}
function printFunctionDeclaration(node, options) {
    const parts = ['function'];
    for (const child of node.children) {
        if (!child)
            continue;
        if (child.type === 'identifier') {
            parts.push(' ', child.text);
        }
        else if (child.type === 'parameters_declaration') {
            parts.push(printParameters(child, options));
        }
        else if (child.type === '=') {
            parts.push(' ', child.text, ' ');
        }
        else if (child.type !== 'function') {
            parts.push(printNode(child, options));
        }
    }
    parts.push(';');
    return (0, doc_1.concat)(parts);
}
function printParameters(node, options) {
    const params = [];
    let firstParamLine = -1;
    let lastParamLine = -1;
    for (const child of node.children) {
        if (!child)
            continue;
        if (child.type === '(' || child.type === ')' || child.type === ',') {
            continue;
        }
        if (child.type === 'whitespace' || child.type === '\n') {
            continue;
        }
        // Track line positions to detect multiline parameters
        if (firstParamLine === -1) {
            firstParamLine = child.startPosition.row;
        }
        lastParamLine = child.endPosition.row;
        params.push(printNode(child, options));
    }
    if (params.length === 0) {
        return '()';
    }
    // Check if parameters were originally multiline
    const isMultiline = lastParamLine > firstParamLine;
    if (isMultiline) {
        // Format as multiline with Prettier-style formatting
        const parts = [];
        params.forEach((param, i) => {
            parts.push(param);
            if (i < params.length - 1) {
                parts.push(',');
                parts.push((0, doc_1.hardline)());
            }
        });
        return (0, doc_1.concat)([
            '(',
            (0, doc_1.indent)((0, doc_1.concat)([(0, doc_1.hardline)(), ...parts])),
            (0, doc_1.hardline)(),
            ')',
        ]);
    }
    // Keep single-line parameters compact
    return (0, doc_1.concat)([
        '(',
        (0, doc_1.join)(', ', params),
        ')',
    ]);
}
function printBlock(node, options) {
    const items = [];
    let prevChild = null;
    for (const child of node.children) {
        if (!child)
            continue;
        if (child.type === '{' || child.type === '}' || child.type === ';') {
            continue;
        }
        if (child.type === 'whitespace' || child.type === '\n') {
            continue;
        }
        const stmt = printNode(child, options);
        // Determine if this statement needs a semicolon
        let needsSemi = false;
        if (child.type === 'assignment') {
            needsSemi = true;
        }
        else if (child.type === 'transform_chain') {
            // Check if transform_chain ends with a block
            const hasBlock = hasChildOfType(child, 'union_block') || hasChildOfType(child, 'block');
            needsSemi = !hasBlock;
        }
        // Check if there was a blank line before this statement in the original code
        let blankLineBefore = false;
        if (prevChild) {
            const lineDiff = child.startPosition.row - prevChild.endPosition.row;
            blankLineBefore = lineDiff > 1;
        }
        items.push({ stmt, needsSemi, blankLineBefore, child });
        prevChild = child;
    }
    if (items.length === 0) {
        return '{}';
    }
    const statements = [];
    items.forEach(({ stmt, needsSemi, blankLineBefore }, i) => {
        // Add blank line if there was one in the original
        if (blankLineBefore && i > 0) {
            statements.push((0, doc_1.hardline)());
        }
        statements.push(stmt);
        if (needsSemi) {
            statements.push(';');
        }
        // Add hardline after each statement except the last
        if (i < items.length - 1) {
            statements.push((0, doc_1.hardline)());
        }
    });
    return (0, doc_1.group)((0, doc_1.concat)([
        '{',
        (0, doc_1.indent)((0, doc_1.concat)([(0, doc_1.hardline)(), ...statements])),
        (0, doc_1.hardline)(),
        '}',
    ]));
}
function printIfStatement(node, options) {
    const parts = ['if'];
    for (const child of node.children) {
        if (!child)
            continue;
        if (child.type === 'if') {
            continue;
        }
        else if (child.type === 'condition' || child.type === 'parenthesized_expression') {
            const conditionChild = child.children[1] || child;
            if (conditionChild) {
                parts.push(' (', printNode(conditionChild, options), ')');
            }
        }
        else if (child.type === 'block' || child.type === 'union_block') {
            parts.push(' ', printNode(child, options));
        }
        else if (child.type === 'else') {
            parts.push(' else');
        }
        else if (child.type === 'whitespace' || child.type === '\n' || child.type === ';') {
            // Skip
            continue;
        }
        else {
            // This handles any statement/expression in the if body (without braces)
            parts.push(' ', printNode(child, options));
        }
    }
    return (0, doc_1.concat)(parts);
}
function printForStatement(node, options) {
    const parts = ['for', ' '];
    let block = null;
    for (const child of node.children) {
        if (!child)
            continue;
        if (child.type === 'for') {
            // Skip the 'for' keyword itself
            continue;
        }
        else if (child.type === 'parenthesized_assignments') {
            // Print the parenthesized assignments (e.g., "(i = [0:10])")
            parts.push(printParenthesizedAssignments(child, options));
        }
        else if (child.type === 'block' || child.type === 'union_block') {
            block = printNode(child, options);
        }
        else if (child.type !== ';' && child.type !== 'whitespace' && child.type !== '\n') {
            parts.push(printNode(child, options));
        }
    }
    if (block) {
        parts.push(' ', block);
    }
    return (0, doc_1.concat)(parts);
}
function printParenthesizedAssignments(node, options) {
    const parts = ['('];
    for (const child of node.children) {
        if (!child)
            continue;
        if (child.type === '(' || child.type === ')') {
            continue;
        }
        if (child.type === 'whitespace' || child.type === '\n') {
            continue;
        }
        if (child.type === '=') {
            parts.push(' ', child.text, ' ');
        }
        else {
            parts.push(printNode(child, options));
        }
    }
    parts.push(')');
    return (0, doc_1.concat)(parts);
}
function printAssignment(node, options) {
    const parts = [];
    for (let i = 0; i < node.childCount; i++) {
        const child = node.child(i);
        if (!child)
            continue;
        if (child.type === '=') {
            parts.push(' ', child.text, ' ');
        }
        else if (child.type === ';') {
            // Skip semicolons - they'll be added by printSourceFile
            continue;
        }
        else {
            parts.push(printNode(child, options));
        }
    }
    return (0, doc_1.concat)(parts);
}
function printTransformChain(node, options) {
    const parts = [];
    let hasBlock = false;
    for (const child of node.children) {
        if (!child)
            continue;
        if (child.type === 'module_call' || child.type === 'function_call') {
            parts.push(printCallExpression(child, options));
        }
        else if (child.type === 'union_block' || child.type === 'block') {
            parts.push(' ', printBlock(child, options));
            hasBlock = true;
        }
        else if (child.type === ';') {
            // Skip - semicolon handled by parent based on whether there's a block
            continue;
        }
        else if (child.type === 'transform_chain') {
            // Nested transform chain
            parts.push(' ', printTransformChain(child, options));
        }
        else {
            parts.push(printNode(child, options));
        }
    }
    return (0, doc_1.concat)(parts);
}
function printBinaryExpression(node, options) {
    const parts = [];
    for (const child of node.children) {
        if (!child)
            continue;
        if (isOperator(child.text)) {
            parts.push(' ', child.text, ' ');
        }
        else {
            parts.push(printNode(child, options));
        }
    }
    return (0, doc_1.concat)(parts);
}
function printUnaryExpression(node, options) {
    const operator = node.child(0);
    const operand = node.child(1);
    if (!operator || !operand) {
        return node.text;
    }
    // Handle negative numbers/expressions (no space for minus)
    if (operator.text === '-') {
        return (0, doc_1.concat)([operator.text, printNode(operand, options)]);
    }
    // Other unary operators (like !)
    return (0, doc_1.concat)([operator.text, printNode(operand, options)]);
}
function printCallExpression(node, options) {
    const parts = [];
    for (const child of node.children) {
        if (!child)
            continue;
        if (child.type === 'identifier') {
            parts.push(child.text);
        }
        else if (child.type === 'arguments') {
            parts.push(printArguments(child, options));
        }
        else if (child.type !== ';' && child.type !== 'whitespace' && child.type !== '\n') {
            parts.push(printNode(child, options));
        }
    }
    return (0, doc_1.concat)(parts);
}
function printArguments(node, options) {
    const args = [];
    for (const child of node.children) {
        if (!child)
            continue;
        if (child.type === '(' || child.type === ')' || child.type === ',') {
            continue;
        }
        if (child.type === 'whitespace' || child.type === '\n') {
            continue;
        }
        args.push(printNode(child, options));
    }
    if (args.length === 0) {
        return '()';
    }
    return (0, doc_1.concat)([
        '(',
        (0, doc_1.join)((0, doc_1.concat)([', ']), args),
        ')',
    ]);
}
function printList(node, options) {
    const items = [];
    const children = [];
    let firstItemLine = -1;
    let lastItemLine = -1;
    for (const child of node.children) {
        if (!child)
            continue;
        if (child.type === '[' || child.type === ']' || child.type === ',') {
            continue;
        }
        if (child.type === 'whitespace' || child.type === '\n') {
            continue;
        }
        // Track line positions to detect multiline arrays
        if (firstItemLine === -1) {
            firstItemLine = child.startPosition.row;
        }
        lastItemLine = child.endPosition.row;
        children.push(child);
        items.push(printNode(child, options));
    }
    if (items.length === 0) {
        return '[]';
    }
    // Check if array was originally multiline
    const isMultiline = lastItemLine > firstItemLine;
    if (isMultiline && items.length > 0) {
        // Format as multiline with Prettier-style formatting
        // Each item on its own line with comma, closing bracket unindented
        const parts = [];
        items.forEach((item, i) => {
            parts.push(item);
            if (i < items.length - 1) {
                parts.push(',');
                parts.push((0, doc_1.hardline)());
            }
        });
        return (0, doc_1.concat)([
            '[',
            (0, doc_1.indent)((0, doc_1.concat)([(0, doc_1.hardline)(), ...parts])),
            (0, doc_1.hardline)(),
            ']',
        ]);
    }
    // Keep single-line arrays compact: [1, 2, 3] not [ 1, 2, 3 ]
    return (0, doc_1.concat)([
        '[',
        (0, doc_1.join)(', ', items),
        ']',
    ]);
}
function printRange(node, options) {
    const parts = [];
    for (const child of node.children) {
        if (!child)
            continue;
        if (child.type === 'whitespace' || child.type === '\n') {
            continue;
        }
        if (child.type === ':') {
            parts.push(child.text);
        }
        else {
            parts.push(printNode(child, options));
        }
    }
    return (0, doc_1.concat)(parts);
}
function printTernaryExpression(node, options) {
    const parts = [];
    for (const child of node.children) {
        if (!child)
            continue;
        if (child.type === 'whitespace' || child.type === '\n') {
            continue;
        }
        if (child.type === '?') {
            parts.push(' ', child.text, ' ');
        }
        else if (child.type === ':') {
            parts.push(' ', child.text, ' ');
        }
        else {
            parts.push(printNode(child, options));
        }
    }
    return (0, doc_1.concat)(parts);
}
function printIndexExpression(node, options) {
    const parts = [];
    for (const child of node.children) {
        if (!child)
            continue;
        if (child.type === 'whitespace' || child.type === '\n') {
            continue;
        }
        parts.push(printNode(child, options));
    }
    return (0, doc_1.concat)(parts);
}
function printDotIndexExpression(node, options) {
    const parts = [];
    for (const child of node.children) {
        if (!child)
            continue;
        if (child.type === 'whitespace' || child.type === '\n') {
            continue;
        }
        parts.push(printNode(child, options));
    }
    return (0, doc_1.concat)(parts);
}
function printParenthesizedExpression(node, options) {
    const parts = ['('];
    for (const child of node.children) {
        if (!child)
            continue;
        if (child.type === '(' || child.type === ')') {
            continue;
        }
        if (child.type === 'whitespace' || child.type === '\n') {
            continue;
        }
        parts.push(printNode(child, options));
    }
    parts.push(')');
    return (0, doc_1.concat)(parts);
}
function printUseStatement(node, options) {
    const parts = [];
    for (const child of node.children) {
        if (!child)
            continue;
        if (child.type === 'whitespace' || child.type === '\n') {
            continue;
        }
        if (child.type === 'use') {
            parts.push(child.text, ' ');
        }
        else if (child.type === 'include_path') {
            parts.push(child.text);
        }
        else {
            parts.push(printNode(child, options));
        }
    }
    return (0, doc_1.concat)(parts);
}
function printAssert(node, options) {
    const parts = ['assert'];
    for (const child of node.children) {
        if (!child)
            continue;
        if (child.type === 'assert') {
            continue;
        }
        if (child.type === 'whitespace' || child.type === '\n') {
            continue;
        }
        parts.push(printNode(child, options));
    }
    return (0, doc_1.concat)(parts);
}
function printModifierChain(node, options) {
    const parts = [];
    for (const child of node.children) {
        if (!child)
            continue;
        if (child.type === 'whitespace' || child.type === '\n') {
            continue;
        }
        if (child.type === 'modifier') {
            parts.push(child.text);
        }
        else if (child.type === 'module_call' || child.type === 'function_call' || child.type === 'transform_chain') {
            if (parts.length > 0) {
                parts.push(' ');
            }
            parts.push(printNode(child, options));
        }
        else {
            parts.push(printNode(child, options));
        }
    }
    return (0, doc_1.concat)(parts);
}
function printIntersectionFor(node, options) {
    const parts = ['intersection_for', ' '];
    let block = null;
    for (const child of node.children) {
        if (!child)
            continue;
        if (child.type === 'intersection_for') {
            continue;
        }
        else if (child.type === 'parenthesized_assignments') {
            parts.push(printParenthesizedAssignments(child, options));
        }
        else if (child.type === 'block' || child.type === 'union_block') {
            block = printNode(child, options);
        }
        else if (child.type !== ';' && child.type !== 'whitespace' && child.type !== '\n') {
            parts.push(printNode(child, options));
        }
    }
    if (block) {
        parts.push(' ', block);
    }
    return (0, doc_1.concat)(parts);
}
function printChildren(node, options) {
    const parts = [];
    for (let i = 0; i < node.childCount; i++) {
        const child = node.child(i);
        if (!child)
            continue;
        parts.push(printNode(child, options));
    }
    return (0, doc_1.concat)(parts);
}
// Helper functions
function isDeclaration(type) {
    return type === 'module_declaration' || type === 'function_declaration';
}
function needsSemicolon(type, node) {
    if (type === 'assignment') {
        return true;
    }
    if (type === 'transform_chain' && node) {
        // Only add semicolon if transform chain doesn't have a block
        const hasBlock = hasChildOfType(node, 'union_block') || hasChildOfType(node, 'block');
        return !hasBlock;
    }
    return false;
}
function hasChildOfType(node, type) {
    for (const child of node.children) {
        if (child && child.type === type) {
            return true;
        }
    }
    return false;
}
function isOperator(text) {
    return ['+', '-', '*', '/', '%', '==', '!=', '<', '>', '<=', '>=', '&&', '||', '!'].includes(text);
}
/**
 * Convert Doc IR to actual string output
 */
function printDoc(doc, options, mode = 'break') {
    const indentStr = options.useTabs ? '\t' : ' '.repeat(options.indentSize);
    let output = '';
    let indentLevel = 0;
    function print(d, m = mode) {
        if (typeof d === 'string') {
            output += d;
            return;
        }
        if (Array.isArray(d)) {
            for (const part of d) {
                print(part, m);
            }
            return;
        }
        switch (d.type) {
            case 'concat':
                for (const part of d.parts) {
                    print(part, m);
                }
                break;
            case 'line':
                if (d.hard || m === 'break') {
                    output += '\n' + indentStr.repeat(indentLevel);
                }
                else if (!d.soft) {
                    output += ' ';
                }
                break;
            case 'group':
                print(d.contents, d.shouldBreak ? 'break' : 'flat');
                break;
            case 'indent':
                indentLevel++;
                print(d.contents, m);
                indentLevel--;
                break;
            case 'if-break':
                print(m === 'break' ? d.breakContents : d.flatContents, m);
                break;
            case 'fill':
                for (const part of d.parts) {
                    print(part, m);
                }
                break;
        }
    }
    print(doc);
    // Remove trailing whitespace from each line
    return output.split('\n').map(line => line.trimEnd()).join('\n');
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL3phY2hhcnltYXJpb24vc3JjL29wZW5zY2FkLXRhdXJpL2FwcHMvdWkvc3JjL3V0aWxzL2Zvcm1hdHRlci9wcmludGVyLnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7OztHQUlHOztBQVVILDhCQUdDO0FBVEQsK0JBQW9FO0FBR3BFOztHQUVHO0FBQ0gsU0FBZ0IsU0FBUyxDQUFDLElBQXFCLEVBQUUsT0FBZ0M7SUFDL0UsTUFBTSxHQUFHLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDOUMsT0FBTyxRQUFRLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ2hDLENBQUM7QUFFRDs7R0FFRztBQUNILFNBQVMsU0FBUyxDQUFDLElBQXFCLEVBQUUsT0FBZ0M7SUFDeEUsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUM7SUFFNUIscUNBQXFDO0lBQ3JDLElBQUksQ0FBQyxDQUFDLGFBQWEsRUFBRSxvQkFBb0IsRUFBRSxzQkFBc0IsRUFBRSxPQUFPLEVBQUUsYUFBYTtRQUNuRixjQUFjLEVBQUUsVUFBVSxFQUFFLGVBQWUsRUFBRSxXQUFXLEVBQUUsWUFBWSxFQUFFLG1CQUFtQjtRQUMzRixrQkFBa0IsRUFBRSxpQkFBaUIsRUFBRSxhQUFhLEVBQUUsZUFBZTtRQUNyRSxpQkFBaUIsRUFBRSxXQUFXLEVBQUUsd0JBQXdCLEVBQUUsV0FBVyxFQUFFLDJCQUEyQjtRQUNsRywwQkFBMEIsRUFBRSxvQkFBb0IsRUFBRSxrQkFBa0IsRUFBRSxzQkFBc0I7UUFDNUYsTUFBTSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsT0FBTztRQUNsQyxTQUFTLEVBQUUsWUFBWSxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsU0FBUztRQUNyRixrQkFBa0IsRUFBRSxlQUFlLEVBQUUsbUJBQW1CLEVBQUUsY0FBYztRQUN4RSxrQkFBa0IsRUFBRSxtQkFBbUI7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LENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUMzRCxNQUFNO1lBRVIsS0FBSyxNQUFNO2dCQUNULEtBQUssTUFBTSxJQUFJLElBQUksQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO29CQUMzQixLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNqQixDQUFDO2dCQUNELE1BQU07UUFDVixDQUFDO0lBQ0gsQ0FBQztJQUVELEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUVYLDRDQUE0QztJQUM1QyxPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ25FLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL3phY2hhcnltYXJpb24vc3JjL29wZW5zY2FkLXRhdXJpL2FwcHMvdWkvc3JjL3V0aWxzL2Zvcm1hdHRlci9wcmludGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVHJlZS1zaXR0ZXIgYmFzZWQgcHJpbnRlciBmb3IgT3BlblNDQURcbiAqXG4gKiBDb252ZXJ0cyBBU1QgdG8gZm9ybWF0dGVkIGNvZGUgdXNpbmcgdGhlIERvYyBJUlxuICovXG5cbmltcG9ydCB0eXBlICogYXMgVHJlZVNpdHRlciBmcm9tICd3ZWItdHJlZS1zaXR0ZXInO1xuaW1wb3J0IHR5cGUgeyBGb3JtYXRPcHRpb25zIH0gZnJvbSAnLi9pbmRleCc7XG5pbXBvcnQgeyBjb25jYXQsIGhhcmRsaW5lLCBpbmRlbnQsIGxpbmUsIGdyb3VwLCBqb2luIH0gZnJvbSAnLi9kb2MnO1xuaW1wb3J0IHR5cGUgeyBEb2MgfSBmcm9tICcuL2RvYyc7XG5cbi8qKlxuICogUHJpbnQgYSB0cmVlLXNpdHRlciBzeW50YXggdHJlZSBhcyBmb3JtYXR0ZWQgY29kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJpbnRUcmVlKHRyZWU6IFRyZWVTaXR0ZXIuVHJlZSwgb3B0aW9uczogUmVxdWlyZWQ8Rm9ybWF0T3B0aW9ucz4pOiBzdHJpbmcge1xuICBjb25zdCBkb2MgPSBwcmludE5vZGUodHJlZS5yb290Tm9kZSwgb3B0aW9ucyk7XG4gIHJldHVybiBwcmludERvYyhkb2MsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIFByaW50IGEgc2luZ2xlIEFTVCBub2RlXG4gKi9cbmZ1bmN0aW9uIHByaW50Tm9kZShub2RlOiBUcmVlU2l0dGVyLk5vZGUsIG9wdGlvbnM6IFJlcXVpcmVkPEZvcm1hdE9wdGlvbnM+KTogRG9jIHtcbiAgY29uc3QgeyB0eXBlLCB0ZXh0IH0gPSBub2RlO1xuXG4gIC8vIERlYnVnIGxvZyBmb3IgdW5oYW5kbGVkIG5vZGUgdHlwZXNcbiAgaWYgKCFbJ3NvdXJjZV9maWxlJywgJ21vZHVsZV9kZWNsYXJhdGlvbicsICdmdW5jdGlvbl9kZWNsYXJhdGlvbicsICdibG9jaycsICd1bmlvbl9ibG9jaycsXG4gICAgICAgICdpZl9zdGF0ZW1lbnQnLCAnaWZfYmxvY2snLCAnZm9yX3N0YXRlbWVudCcsICdmb3JfYmxvY2snLCAnYXNzaWdubWVudCcsICdiaW5hcnlfZXhwcmVzc2lvbicsXG4gICAgICAgICd1bmFyeV9leHByZXNzaW9uJywgJ2NhbGxfZXhwcmVzc2lvbicsICdtb2R1bGVfY2FsbCcsICdmdW5jdGlvbl9jYWxsJyxcbiAgICAgICAgJ3RyYW5zZm9ybV9jaGFpbicsICdhcmd1bWVudHMnLCAncGFyYW1ldGVyc19kZWNsYXJhdGlvbicsICdwYXJhbWV0ZXInLCAncGFyZW50aGVzaXplZF9hc3NpZ25tZW50cycsXG4gICAgICAgICdwYXJlbnRoZXNpemVkX2V4cHJlc3Npb24nLCAndGVybmFyeV9leHByZXNzaW9uJywgJ2luZGV4X2V4cHJlc3Npb24nLCAnZG90X2luZGV4X2V4cHJlc3Npb24nLFxuICAgICAgICAnbGlzdCcsICd2ZWN0b3InLCAnYXJyYXknLCAncmFuZ2UnLFxuICAgICAgICAnY29tbWVudCcsICdpZGVudGlmaWVyJywgJ251bWJlcicsICdkZWNpbWFsJywgJ2ludGVnZXInLCAnZmxvYXQnLCAnc3RyaW5nJywgJ2Jvb2xlYW4nLFxuICAgICAgICAnc3BlY2lhbF92YXJpYWJsZScsICd1c2Vfc3RhdGVtZW50JywgJ2luY2x1ZGVfc3RhdGVtZW50JywgJ2luY2x1ZGVfcGF0aCcsXG4gICAgICAgICdhc3NlcnRfc3RhdGVtZW50JywgJ2Fzc2VydF9leHByZXNzaW9uJyxcbiAgICAgICAgJ21vZGlmaWVyJywgJ21vZGlmaWVyX2NoYWluJywgJ2ludGVyc2VjdGlvbl9mb3InLCAnaW50ZXJzZWN0aW9uX2Zvcl9ibG9jaycsXG4gICAgICAgICd1c2UnLCAnaWYnLCAnZWxzZScsICdtb2R1bGUnLFxuICAgICAgICAnKCcsICcpJywgJ1snLCAnXScsICd7JywgJ30nLCAnLCcsICc7JywgJz0nLCAnOicsICdmb3InLCAnd2hpdGVzcGFjZScsICdcXG4nLFxuICAgICAgICAnJCcsICcuJywgJyMnLCAnJScsICc/JywgJyEnXS5pbmNsdWRlcyh0eXBlKSkge1xuICAgIGNvbnNvbGUubG9nKGBbRm9ybWF0dGVyXSBVbmtub3duIG5vZGUgdHlwZTogXCIke3R5cGV9XCIsIHRleHQ6IFwiJHt0ZXh0LnN1YnN0cmluZygwLCA1MCl9XCJgKTtcbiAgfVxuXG4gIC8vIEhhbmRsZSBkaWZmZXJlbnQgbm9kZSB0eXBlc1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdzb3VyY2VfZmlsZSc6XG4gICAgICByZXR1cm4gcHJpbnRTb3VyY2VGaWxlKG5vZGUsIG9wdGlvbnMpO1xuXG4gICAgY2FzZSAnbW9kdWxlX2RlY2xhcmF0aW9uJzpcbiAgICAgIHJldHVybiBwcmludE1vZHVsZURlY2xhcmF0aW9uKG5vZGUsIG9wdGlvbnMpO1xuXG4gICAgY2FzZSAnZnVuY3Rpb25fZGVjbGFyYXRpb24nOlxuICAgICAgcmV0dXJuIHByaW50RnVuY3Rpb25EZWNsYXJhdGlvbihub2RlLCBvcHRpb25zKTtcblxuICAgIGNhc2UgJ2Jsb2NrJzpcbiAgICBjYXNlICd1bmlvbl9ibG9jayc6XG4gICAgICByZXR1cm4gcHJpbnRCbG9jayhub2RlLCBvcHRpb25zKTtcblxuICAgIGNhc2UgJ2lmX3N0YXRlbWVudCc6XG4gICAgY2FzZSAnaWZfYmxvY2snOlxuICAgICAgcmV0dXJuIHByaW50SWZTdGF0ZW1lbnQobm9kZSwgb3B0aW9ucyk7XG5cbiAgICBjYXNlICdmb3Jfc3RhdGVtZW50JzpcbiAgICBjYXNlICdmb3JfYmxvY2snOlxuICAgICAgcmV0dXJuIHByaW50Rm9yU3RhdGVtZW50KG5vZGUsIG9wdGlvbnMpO1xuXG4gICAgY2FzZSAnaW50ZXJzZWN0aW9uX2Zvcic6XG4gICAgY2FzZSAnaW50ZXJzZWN0aW9uX2Zvcl9ibG9jayc6XG4gICAgICByZXR1cm4gcHJpbnRJbnRlcnNlY3Rpb25Gb3Iobm9kZSwgb3B0aW9ucyk7XG5cbiAgICBjYXNlICdhc3NpZ25tZW50JzpcbiAgICAgIHJldHVybiBwcmludEFzc2lnbm1lbnQobm9kZSwgb3B0aW9ucyk7XG5cbiAgICBjYXNlICdiaW5hcnlfZXhwcmVzc2lvbic6XG4gICAgICByZXR1cm4gcHJpbnRCaW5hcnlFeHByZXNzaW9uKG5vZGUsIG9wdGlvbnMpO1xuXG4gICAgY2FzZSAndW5hcnlfZXhwcmVzc2lvbic6XG4gICAgICByZXR1cm4gcHJpbnRVbmFyeUV4cHJlc3Npb24obm9kZSwgb3B0aW9ucyk7XG5cbiAgICBjYXNlICdjYWxsX2V4cHJlc3Npb24nOlxuICAgIGNhc2UgJ21vZHVsZV9jYWxsJzpcbiAgICBjYXNlICdmdW5jdGlvbl9jYWxsJzpcbiAgICAgIHJldHVybiBwcmludENhbGxFeHByZXNzaW9uKG5vZGUsIG9wdGlvbnMpO1xuXG4gICAgY2FzZSAndHJhbnNmb3JtX2NoYWluJzpcbiAgICAgIHJldHVybiBwcmludFRyYW5zZm9ybUNoYWluKG5vZGUsIG9wdGlvbnMpO1xuXG4gICAgY2FzZSAnYXJndW1lbnRzJzpcbiAgICAgIHJldHVybiBwcmludEFyZ3VtZW50cyhub2RlLCBvcHRpb25zKTtcblxuICAgIGNhc2UgJ2xpc3QnOlxuICAgIGNhc2UgJ3ZlY3Rvcic6XG4gICAgY2FzZSAnYXJyYXknOlxuICAgICAgcmV0dXJuIHByaW50TGlzdChub2RlLCBvcHRpb25zKTtcblxuICAgIGNhc2UgJ3JhbmdlJzpcbiAgICAgIHJldHVybiBwcmludFJhbmdlKG5vZGUsIG9wdGlvbnMpO1xuXG4gICAgY2FzZSAndGVybmFyeV9leHByZXNzaW9uJzpcbiAgICAgIHJldHVybiBwcmludFRlcm5hcnlFeHByZXNzaW9uKG5vZGUsIG9wdGlvbnMpO1xuXG4gICAgY2FzZSAnaW5kZXhfZXhwcmVzc2lvbic6XG4gICAgICByZXR1cm4gcHJpbnRJbmRleEV4cHJlc3Npb24obm9kZSwgb3B0aW9ucyk7XG5cbiAgICBjYXNlICdkb3RfaW5kZXhfZXhwcmVzc2lvbic6XG4gICAgICByZXR1cm4gcHJpbnREb3RJbmRleEV4cHJlc3Npb24obm9kZSwgb3B0aW9ucyk7XG5cbiAgICBjYXNlICdwYXJlbnRoZXNpemVkX2V4cHJlc3Npb24nOlxuICAgICAgcmV0dXJuIHByaW50UGFyZW50aGVzaXplZEV4cHJlc3Npb24obm9kZSwgb3B0aW9ucyk7XG5cbiAgICBjYXNlICd1c2Vfc3RhdGVtZW50JzpcbiAgICAgIHJldHVybiBwcmludFVzZVN0YXRlbWVudChub2RlLCBvcHRpb25zKTtcblxuICAgIGNhc2UgJ2Fzc2VydF9zdGF0ZW1lbnQnOlxuICAgIGNhc2UgJ2Fzc2VydF9leHByZXNzaW9uJzpcbiAgICAgIHJldHVybiBwcmludEFzc2VydChub2RlLCBvcHRpb25zKTtcblxuICAgIGNhc2UgJ21vZGlmaWVyX2NoYWluJzpcbiAgICAgIHJldHVybiBwcmludE1vZGlmaWVyQ2hhaW4obm9kZSwgb3B0aW9ucyk7XG5cbiAgICBjYXNlICdjb21tZW50JzpcbiAgICAgIHJldHVybiB0ZXh0O1xuXG4gICAgY2FzZSAncGFyYW1ldGVyJzpcbiAgICBjYXNlICdpZGVudGlmaWVyJzpcbiAgICBjYXNlICdudW1iZXInOlxuICAgIGNhc2UgJ2RlY2ltYWwnOlxuICAgIGNhc2UgJ2ludGVnZXInOlxuICAgIGNhc2UgJ2Zsb2F0JzpcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgIGNhc2UgJ3NwZWNpYWxfdmFyaWFibGUnOlxuICAgICAgcmV0dXJuIHRleHQ7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gRm9yIHVua25vd24gbm9kZXMsIHRyeSB0byBwcmludCBjaGlsZHJlbiBvciBmYWxsIGJhY2sgdG8gdGV4dFxuICAgICAgaWYgKG5vZGUuY2hpbGRDb3VudCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHByaW50Q2hpbGRyZW4obm9kZSwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGV4dDtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcmludFNvdXJjZUZpbGUobm9kZTogVHJlZVNpdHRlci5Ob2RlLCBvcHRpb25zOiBSZXF1aXJlZDxGb3JtYXRPcHRpb25zPik6IERvYyB7XG4gIGNvbnN0IHBhcnRzOiBEb2NbXSA9IFtdO1xuICBsZXQgbGFzdFdhc0NvbW1lbnQgPSBmYWxzZTtcbiAgbGV0IGxhc3RXYXNEZWNsYXJhdGlvbiA9IGZhbHNlO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS5jaGlsZENvdW50OyBpKyspIHtcbiAgICBjb25zdCBjaGlsZCA9IG5vZGUuY2hpbGQoaSk7XG4gICAgaWYgKCFjaGlsZCkgY29udGludWU7XG5cbiAgICAvLyBTa2lwIHdoaXRlc3BhY2Ugbm9kZXMgYW5kIHNlbWljb2xvbnMgKHdlJ2xsIGFkZCB0aGVtIG91cnNlbHZlcylcbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gJ3doaXRlc3BhY2UnIHx8IGNoaWxkLnR5cGUgPT09ICdcXG4nIHx8IGNoaWxkLnR5cGUgPT09ICc7Jykge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgY29uc3QgY2hpbGREb2MgPSBwcmludE5vZGUoY2hpbGQsIG9wdGlvbnMpO1xuXG4gICAgLy8gQWRkIGJsYW5rIGxpbmUgYmV0d2VlbiBzZWN0aW9ucyAod2hlbiB3ZSBzZWUgYSBuZXcgY29tbWVudCBhZnRlciBjb2RlKVxuICAgIGNvbnN0IGlzQ29tbWVudCA9IGNoaWxkLnR5cGUgPT09ICdjb21tZW50JztcbiAgICBpZiAoaSA+IDAgJiYgaXNDb21tZW50ICYmICFsYXN0V2FzQ29tbWVudCkge1xuICAgICAgcGFydHMucHVzaChoYXJkbGluZSgpKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgYmxhbmsgbGluZSBiZXR3ZWVuIHRvcC1sZXZlbCBkZWNsYXJhdGlvbnMgKGJ1dCBub3QgYWZ0ZXIgY29tbWVudHMpXG4gICAgY29uc3QgaXNEZWNsID0gaXNEZWNsYXJhdGlvbihjaGlsZC50eXBlKTtcbiAgICBpZiAoaSA+IDAgJiYgaXNEZWNsICYmIGxhc3RXYXNEZWNsYXJhdGlvbikge1xuICAgICAgcGFydHMucHVzaChoYXJkbGluZSgpKTtcbiAgICB9XG5cbiAgICBwYXJ0cy5wdXNoKGNoaWxkRG9jKTtcblxuICAgIC8vIEFkZCBzZW1pY29sb24gZm9yIHN0YXRlbWVudHMgdGhhdCBuZWVkIGl0XG4gICAgaWYgKG5lZWRzU2VtaWNvbG9uKGNoaWxkLnR5cGUsIGNoaWxkKSkge1xuICAgICAgcGFydHMucHVzaCgnOycpO1xuICAgIH1cblxuICAgIHBhcnRzLnB1c2goaGFyZGxpbmUoKSk7XG4gICAgbGFzdFdhc0NvbW1lbnQgPSBpc0NvbW1lbnQ7XG4gICAgbGFzdFdhc0RlY2xhcmF0aW9uID0gaXNEZWNsO1xuICB9XG5cbiAgcmV0dXJuIGNvbmNhdChwYXJ0cyk7XG59XG5cbmZ1bmN0aW9uIHByaW50TW9kdWxlRGVjbGFyYXRpb24obm9kZTogVHJlZVNpdHRlci5Ob2RlLCBvcHRpb25zOiBSZXF1aXJlZDxGb3JtYXRPcHRpb25zPik6IERvYyB7XG4gIGNvbnN0IHBhcnRzOiBEb2NbXSA9IFsnbW9kdWxlJywgJyAnXTsgIC8vIEFsd2F5cyBhZGQgc3BhY2UgYWZ0ZXIgJ21vZHVsZSdcblxuICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHtcbiAgICBpZiAoIWNoaWxkKSBjb250aW51ZTtcblxuICAgIGlmIChjaGlsZC50eXBlID09PSAnbW9kdWxlJykge1xuICAgICAgLy8gU2tpcCB0aGUgJ21vZHVsZScga2V5d29yZCBpdHNlbGZcbiAgICAgIGNvbnRpbnVlO1xuICAgIH0gZWxzZSBpZiAoY2hpbGQudHlwZSA9PT0gJ2lkZW50aWZpZXInKSB7XG4gICAgICBwYXJ0cy5wdXNoKGNoaWxkLnRleHQpO1xuICAgIH0gZWxzZSBpZiAoY2hpbGQudHlwZSA9PT0gJ3BhcmFtZXRlcnNfZGVjbGFyYXRpb24nKSB7XG4gICAgICBwYXJ0cy5wdXNoKHByaW50UGFyYW1ldGVycyhjaGlsZCwgb3B0aW9ucykpO1xuICAgIH0gZWxzZSBpZiAoY2hpbGQudHlwZSA9PT0gJ2Jsb2NrJyB8fCBjaGlsZC50eXBlID09PSAndW5pb25fYmxvY2snKSB7XG4gICAgICBwYXJ0cy5wdXNoKCcgJywgcHJpbnRCbG9jayhjaGlsZCwgb3B0aW9ucykpO1xuICAgIH0gZWxzZSBpZiAoY2hpbGQudHlwZSA9PT0gJ3doaXRlc3BhY2UnIHx8IGNoaWxkLnR5cGUgPT09ICdcXG4nIHx8IGNoaWxkLnR5cGUgPT09ICc7Jykge1xuICAgICAgLy8gU2tpcFxuICAgICAgY29udGludWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoaXMgaGFuZGxlcyBtb2R1bGUgYm9keSB3aXRob3V0IGJyYWNlcyAodHJhbnNmb3JtIGNoYWlucywgZXRjLilcbiAgICAgIHBhcnRzLnB1c2goJyAnLCBwcmludE5vZGUoY2hpbGQsIG9wdGlvbnMpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uY2F0KHBhcnRzKTtcbn1cblxuZnVuY3Rpb24gcHJpbnRGdW5jdGlvbkRlY2xhcmF0aW9uKG5vZGU6IFRyZWVTaXR0ZXIuTm9kZSwgb3B0aW9uczogUmVxdWlyZWQ8Rm9ybWF0T3B0aW9ucz4pOiBEb2Mge1xuICBjb25zdCBwYXJ0czogRG9jW10gPSBbJ2Z1bmN0aW9uJ107XG5cbiAgZm9yIChjb25zdCBjaGlsZCBvZiBub2RlLmNoaWxkcmVuKSB7XG4gICAgaWYgKCFjaGlsZCkgY29udGludWU7XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09ICdpZGVudGlmaWVyJykge1xuICAgICAgcGFydHMucHVzaCgnICcsIGNoaWxkLnRleHQpO1xuICAgIH0gZWxzZSBpZiAoY2hpbGQudHlwZSA9PT0gJ3BhcmFtZXRlcnNfZGVjbGFyYXRpb24nKSB7XG4gICAgICBwYXJ0cy5wdXNoKHByaW50UGFyYW1ldGVycyhjaGlsZCwgb3B0aW9ucykpO1xuICAgIH0gZWxzZSBpZiAoY2hpbGQudHlwZSA9PT0gJz0nKSB7XG4gICAgICBwYXJ0cy5wdXNoKCcgJywgY2hpbGQudGV4dCwgJyAnKTtcbiAgICB9IGVsc2UgaWYgKGNoaWxkLnR5cGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHBhcnRzLnB1c2gocHJpbnROb2RlKGNoaWxkLCBvcHRpb25zKSk7XG4gICAgfVxuICB9XG5cbiAgcGFydHMucHVzaCgnOycpO1xuICByZXR1cm4gY29uY2F0KHBhcnRzKTtcbn1cblxuZnVuY3Rpb24gcHJpbnRQYXJhbWV0ZXJzKG5vZGU6IFRyZWVTaXR0ZXIuTm9kZSwgb3B0aW9uczogUmVxdWlyZWQ8Rm9ybWF0T3B0aW9ucz4pOiBEb2Mge1xuICBjb25zdCBwYXJhbXM6IERvY1tdID0gW107XG4gIGxldCBmaXJzdFBhcmFtTGluZSA9IC0xO1xuICBsZXQgbGFzdFBhcmFtTGluZSA9IC0xO1xuXG4gIGZvciAoY29uc3QgY2hpbGQgb2Ygbm9kZS5jaGlsZHJlbikge1xuICAgIGlmICghY2hpbGQpIGNvbnRpbnVlO1xuICAgIGlmIChjaGlsZC50eXBlID09PSAnKCcgfHwgY2hpbGQudHlwZSA9PT0gJyknIHx8IGNoaWxkLnR5cGUgPT09ICcsJykge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChjaGlsZC50eXBlID09PSAnd2hpdGVzcGFjZScgfHwgY2hpbGQudHlwZSA9PT0gJ1xcbicpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIFRyYWNrIGxpbmUgcG9zaXRpb25zIHRvIGRldGVjdCBtdWx0aWxpbmUgcGFyYW1ldGVyc1xuICAgIGlmIChmaXJzdFBhcmFtTGluZSA9PT0gLTEpIHtcbiAgICAgIGZpcnN0UGFyYW1MaW5lID0gY2hpbGQuc3RhcnRQb3NpdGlvbi5yb3c7XG4gICAgfVxuICAgIGxhc3RQYXJhbUxpbmUgPSBjaGlsZC5lbmRQb3NpdGlvbi5yb3c7XG5cbiAgICBwYXJhbXMucHVzaChwcmludE5vZGUoY2hpbGQsIG9wdGlvbnMpKTtcbiAgfVxuXG4gIGlmIChwYXJhbXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuICcoKSc7XG4gIH1cblxuICAvLyBDaGVjayBpZiBwYXJhbWV0ZXJzIHdlcmUgb3JpZ2luYWxseSBtdWx0aWxpbmVcbiAgY29uc3QgaXNNdWx0aWxpbmUgPSBsYXN0UGFyYW1MaW5lID4gZmlyc3RQYXJhbUxpbmU7XG5cbiAgaWYgKGlzTXVsdGlsaW5lKSB7XG4gICAgLy8gRm9ybWF0IGFzIG11bHRpbGluZSB3aXRoIFByZXR0aWVyLXN0eWxlIGZvcm1hdHRpbmdcbiAgICBjb25zdCBwYXJ0czogRG9jW10gPSBbXTtcblxuICAgIHBhcmFtcy5mb3JFYWNoKChwYXJhbSwgaSkgPT4ge1xuICAgICAgcGFydHMucHVzaChwYXJhbSk7XG4gICAgICBpZiAoaSA8IHBhcmFtcy5sZW5ndGggLSAxKSB7XG4gICAgICAgIHBhcnRzLnB1c2goJywnKTtcbiAgICAgICAgcGFydHMucHVzaChoYXJkbGluZSgpKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBjb25jYXQoW1xuICAgICAgJygnLFxuICAgICAgaW5kZW50KGNvbmNhdChbaGFyZGxpbmUoKSwgLi4ucGFydHNdKSksXG4gICAgICBoYXJkbGluZSgpLFxuICAgICAgJyknLFxuICAgIF0pO1xuICB9XG5cbiAgLy8gS2VlcCBzaW5nbGUtbGluZSBwYXJhbWV0ZXJzIGNvbXBhY3RcbiAgcmV0dXJuIGNvbmNhdChbXG4gICAgJygnLFxuICAgIGpvaW4oJywgJywgcGFyYW1zKSxcbiAgICAnKScsXG4gIF0pO1xufVxuXG5mdW5jdGlvbiBwcmludEJsb2NrKG5vZGU6IFRyZWVTaXR0ZXIuTm9kZSwgb3B0aW9uczogUmVxdWlyZWQ8Rm9ybWF0T3B0aW9ucz4pOiBEb2Mge1xuICBjb25zdCBpdGVtczogQXJyYXk8eyBzdG10OiBEb2M7IG5lZWRzU2VtaTogYm9vbGVhbjsgYmxhbmtMaW5lQmVmb3JlOiBib29sZWFuOyBjaGlsZDogVHJlZVNpdHRlci5Ob2RlIH0+ID0gW107XG4gIGxldCBwcmV2Q2hpbGQ6IFRyZWVTaXR0ZXIuTm9kZSB8IG51bGwgPSBudWxsO1xuXG4gIGZvciAoY29uc3QgY2hpbGQgb2Ygbm9kZS5jaGlsZHJlbikge1xuICAgIGlmICghY2hpbGQpIGNvbnRpbnVlO1xuICAgIGlmIChjaGlsZC50eXBlID09PSAneycgfHwgY2hpbGQudHlwZSA9PT0gJ30nIHx8IGNoaWxkLnR5cGUgPT09ICc7Jykge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChjaGlsZC50eXBlID09PSAnd2hpdGVzcGFjZScgfHwgY2hpbGQudHlwZSA9PT0gJ1xcbicpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IHN0bXQgPSBwcmludE5vZGUoY2hpbGQsIG9wdGlvbnMpO1xuXG4gICAgLy8gRGV0ZXJtaW5lIGlmIHRoaXMgc3RhdGVtZW50IG5lZWRzIGEgc2VtaWNvbG9uXG4gICAgbGV0IG5lZWRzU2VtaSA9IGZhbHNlO1xuICAgIGlmIChjaGlsZC50eXBlID09PSAnYXNzaWdubWVudCcpIHtcbiAgICAgIG5lZWRzU2VtaSA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChjaGlsZC50eXBlID09PSAndHJhbnNmb3JtX2NoYWluJykge1xuICAgICAgLy8gQ2hlY2sgaWYgdHJhbnNmb3JtX2NoYWluIGVuZHMgd2l0aCBhIGJsb2NrXG4gICAgICBjb25zdCBoYXNCbG9jayA9IGhhc0NoaWxkT2ZUeXBlKGNoaWxkLCAndW5pb25fYmxvY2snKSB8fCBoYXNDaGlsZE9mVHlwZShjaGlsZCwgJ2Jsb2NrJyk7XG4gICAgICBuZWVkc1NlbWkgPSAhaGFzQmxvY2s7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgdGhlcmUgd2FzIGEgYmxhbmsgbGluZSBiZWZvcmUgdGhpcyBzdGF0ZW1lbnQgaW4gdGhlIG9yaWdpbmFsIGNvZGVcbiAgICBsZXQgYmxhbmtMaW5lQmVmb3JlID0gZmFsc2U7XG4gICAgaWYgKHByZXZDaGlsZCkge1xuICAgICAgY29uc3QgbGluZURpZmYgPSBjaGlsZC5zdGFydFBvc2l0aW9uLnJvdyAtIHByZXZDaGlsZC5lbmRQb3NpdGlvbi5yb3c7XG4gICAgICBibGFua0xpbmVCZWZvcmUgPSBsaW5lRGlmZiA+IDE7XG4gICAgfVxuXG4gICAgaXRlbXMucHVzaCh7IHN0bXQsIG5lZWRzU2VtaSwgYmxhbmtMaW5lQmVmb3JlLCBjaGlsZCB9KTtcbiAgICBwcmV2Q2hpbGQgPSBjaGlsZDtcbiAgfVxuXG4gIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJ3t9JztcbiAgfVxuXG4gIGNvbnN0IHN0YXRlbWVudHM6IERvY1tdID0gW107XG4gIGl0ZW1zLmZvckVhY2goKHsgc3RtdCwgbmVlZHNTZW1pLCBibGFua0xpbmVCZWZvcmUgfSwgaSkgPT4ge1xuICAgIC8vIEFkZCBibGFuayBsaW5lIGlmIHRoZXJlIHdhcyBvbmUgaW4gdGhlIG9yaWdpbmFsXG4gICAgaWYgKGJsYW5rTGluZUJlZm9yZSAmJiBpID4gMCkge1xuICAgICAgc3RhdGVtZW50cy5wdXNoKGhhcmRsaW5lKCkpO1xuICAgIH1cblxuICAgIHN0YXRlbWVudHMucHVzaChzdG10KTtcbiAgICBpZiAobmVlZHNTZW1pKSB7XG4gICAgICBzdGF0ZW1lbnRzLnB1c2goJzsnKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgaGFyZGxpbmUgYWZ0ZXIgZWFjaCBzdGF0ZW1lbnQgZXhjZXB0IHRoZSBsYXN0XG4gICAgaWYgKGkgPCBpdGVtcy5sZW5ndGggLSAxKSB7XG4gICAgICBzdGF0ZW1lbnRzLnB1c2goaGFyZGxpbmUoKSk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gZ3JvdXAoY29uY2F0KFtcbiAgICAneycsXG4gICAgaW5kZW50KGNvbmNhdChbaGFyZGxpbmUoKSwgLi4uc3RhdGVtZW50c10pKSxcbiAgICBoYXJkbGluZSgpLFxuICAgICd9JyxcbiAgXSkpO1xufVxuXG5mdW5jdGlvbiBwcmludElmU3RhdGVtZW50KG5vZGU6IFRyZWVTaXR0ZXIuTm9kZSwgb3B0aW9uczogUmVxdWlyZWQ8Rm9ybWF0T3B0aW9ucz4pOiBEb2Mge1xuICBjb25zdCBwYXJ0czogRG9jW10gPSBbJ2lmJ107XG5cbiAgZm9yIChjb25zdCBjaGlsZCBvZiBub2RlLmNoaWxkcmVuKSB7XG4gICAgaWYgKCFjaGlsZCkgY29udGludWU7XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09ICdpZicpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH0gZWxzZSBpZiAoY2hpbGQudHlwZSA9PT0gJ2NvbmRpdGlvbicgfHwgY2hpbGQudHlwZSA9PT0gJ3BhcmVudGhlc2l6ZWRfZXhwcmVzc2lvbicpIHtcbiAgICAgIGNvbnN0IGNvbmRpdGlvbkNoaWxkID0gY2hpbGQuY2hpbGRyZW5bMV0gfHwgY2hpbGQ7XG4gICAgICBpZiAoY29uZGl0aW9uQ2hpbGQpIHtcbiAgICAgICAgcGFydHMucHVzaCgnICgnLCBwcmludE5vZGUoY29uZGl0aW9uQ2hpbGQsIG9wdGlvbnMpLCAnKScpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY2hpbGQudHlwZSA9PT0gJ2Jsb2NrJyB8fCBjaGlsZC50eXBlID09PSAndW5pb25fYmxvY2snKSB7XG4gICAgICBwYXJ0cy5wdXNoKCcgJywgcHJpbnROb2RlKGNoaWxkLCBvcHRpb25zKSk7XG4gICAgfSBlbHNlIGlmIChjaGlsZC50eXBlID09PSAnZWxzZScpIHtcbiAgICAgIHBhcnRzLnB1c2goJyBlbHNlJyk7XG4gICAgfSBlbHNlIGlmIChjaGlsZC50eXBlID09PSAnd2hpdGVzcGFjZScgfHwgY2hpbGQudHlwZSA9PT0gJ1xcbicgfHwgY2hpbGQudHlwZSA9PT0gJzsnKSB7XG4gICAgICAvLyBTa2lwXG4gICAgICBjb250aW51ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhpcyBoYW5kbGVzIGFueSBzdGF0ZW1lbnQvZXhwcmVzc2lvbiBpbiB0aGUgaWYgYm9keSAod2l0aG91dCBicmFjZXMpXG4gICAgICBwYXJ0cy5wdXNoKCcgJywgcHJpbnROb2RlKGNoaWxkLCBvcHRpb25zKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbmNhdChwYXJ0cyk7XG59XG5cbmZ1bmN0aW9uIHByaW50Rm9yU3RhdGVtZW50KG5vZGU6IFRyZWVTaXR0ZXIuTm9kZSwgb3B0aW9uczogUmVxdWlyZWQ8Rm9ybWF0T3B0aW9ucz4pOiBEb2Mge1xuICBjb25zdCBwYXJ0czogRG9jW10gPSBbJ2ZvcicsICcgJ107XG4gIGxldCBibG9jazogRG9jIHwgbnVsbCA9IG51bGw7XG5cbiAgZm9yIChjb25zdCBjaGlsZCBvZiBub2RlLmNoaWxkcmVuKSB7XG4gICAgaWYgKCFjaGlsZCkgY29udGludWU7XG5cbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gJ2ZvcicpIHtcbiAgICAgIC8vIFNraXAgdGhlICdmb3InIGtleXdvcmQgaXRzZWxmXG4gICAgICBjb250aW51ZTtcbiAgICB9IGVsc2UgaWYgKGNoaWxkLnR5cGUgPT09ICdwYXJlbnRoZXNpemVkX2Fzc2lnbm1lbnRzJykge1xuICAgICAgLy8gUHJpbnQgdGhlIHBhcmVudGhlc2l6ZWQgYXNzaWdubWVudHMgKGUuZy4sIFwiKGkgPSBbMDoxMF0pXCIpXG4gICAgICBwYXJ0cy5wdXNoKHByaW50UGFyZW50aGVzaXplZEFzc2lnbm1lbnRzKGNoaWxkLCBvcHRpb25zKSk7XG4gICAgfSBlbHNlIGlmIChjaGlsZC50eXBlID09PSAnYmxvY2snIHx8IGNoaWxkLnR5cGUgPT09ICd1bmlvbl9ibG9jaycpIHtcbiAgICAgIGJsb2NrID0gcHJpbnROb2RlKGNoaWxkLCBvcHRpb25zKTtcbiAgICB9IGVsc2UgaWYgKGNoaWxkLnR5cGUgIT09ICc7JyAmJiBjaGlsZC50eXBlICE9PSAnd2hpdGVzcGFjZScgJiYgY2hpbGQudHlwZSAhPT0gJ1xcbicpIHtcbiAgICAgIHBhcnRzLnB1c2gocHJpbnROb2RlKGNoaWxkLCBvcHRpb25zKSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGJsb2NrKSB7XG4gICAgcGFydHMucHVzaCgnICcsIGJsb2NrKTtcbiAgfVxuXG4gIHJldHVybiBjb25jYXQocGFydHMpO1xufVxuXG5mdW5jdGlvbiBwcmludFBhcmVudGhlc2l6ZWRBc3NpZ25tZW50cyhub2RlOiBUcmVlU2l0dGVyLk5vZGUsIG9wdGlvbnM6IFJlcXVpcmVkPEZvcm1hdE9wdGlvbnM+KTogRG9jIHtcbiAgY29uc3QgcGFydHM6IERvY1tdID0gWycoJ107XG5cbiAgZm9yIChjb25zdCBjaGlsZCBvZiBub2RlLmNoaWxkcmVuKSB7XG4gICAgaWYgKCFjaGlsZCkgY29udGludWU7XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09ICcoJyB8fCBjaGlsZC50eXBlID09PSAnKScpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gJ3doaXRlc3BhY2UnIHx8IGNoaWxkLnR5cGUgPT09ICdcXG4nKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09ICc9Jykge1xuICAgICAgcGFydHMucHVzaCgnICcsIGNoaWxkLnRleHQsICcgJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcnRzLnB1c2gocHJpbnROb2RlKGNoaWxkLCBvcHRpb25zKSk7XG4gICAgfVxuICB9XG5cbiAgcGFydHMucHVzaCgnKScpO1xuICByZXR1cm4gY29uY2F0KHBhcnRzKTtcbn1cblxuZnVuY3Rpb24gcHJpbnRBc3NpZ25tZW50KG5vZGU6IFRyZWVTaXR0ZXIuTm9kZSwgb3B0aW9uczogUmVxdWlyZWQ8Rm9ybWF0T3B0aW9ucz4pOiBEb2Mge1xuICBjb25zdCBwYXJ0czogRG9jW10gPSBbXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGUuY2hpbGRDb3VudDsgaSsrKSB7XG4gICAgY29uc3QgY2hpbGQgPSBub2RlLmNoaWxkKGkpO1xuICAgIGlmICghY2hpbGQpIGNvbnRpbnVlO1xuXG4gICAgaWYgKGNoaWxkLnR5cGUgPT09ICc9Jykge1xuICAgICAgcGFydHMucHVzaCgnICcsIGNoaWxkLnRleHQsICcgJyk7XG4gICAgfSBlbHNlIGlmIChjaGlsZC50eXBlID09PSAnOycpIHtcbiAgICAgIC8vIFNraXAgc2VtaWNvbG9ucyAtIHRoZXknbGwgYmUgYWRkZWQgYnkgcHJpbnRTb3VyY2VGaWxlXG4gICAgICBjb250aW51ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFydHMucHVzaChwcmludE5vZGUoY2hpbGQsIG9wdGlvbnMpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uY2F0KHBhcnRzKTtcbn1cblxuZnVuY3Rpb24gcHJpbnRUcmFuc2Zvcm1DaGFpbihub2RlOiBUcmVlU2l0dGVyLk5vZGUsIG9wdGlvbnM6IFJlcXVpcmVkPEZvcm1hdE9wdGlvbnM+KTogRG9jIHtcbiAgY29uc3QgcGFydHM6IERvY1tdID0gW107XG4gIGxldCBoYXNCbG9jayA9IGZhbHNlO1xuXG4gIGZvciAoY29uc3QgY2hpbGQgb2Ygbm9kZS5jaGlsZHJlbikge1xuICAgIGlmICghY2hpbGQpIGNvbnRpbnVlO1xuXG4gICAgaWYgKGNoaWxkLnR5cGUgPT09ICdtb2R1bGVfY2FsbCcgfHwgY2hpbGQudHlwZSA9PT0gJ2Z1bmN0aW9uX2NhbGwnKSB7XG4gICAgICBwYXJ0cy5wdXNoKHByaW50Q2FsbEV4cHJlc3Npb24oY2hpbGQsIG9wdGlvbnMpKTtcbiAgICB9IGVsc2UgaWYgKGNoaWxkLnR5cGUgPT09ICd1bmlvbl9ibG9jaycgfHwgY2hpbGQudHlwZSA9PT0gJ2Jsb2NrJykge1xuICAgICAgcGFydHMucHVzaCgnICcsIHByaW50QmxvY2soY2hpbGQsIG9wdGlvbnMpKTtcbiAgICAgIGhhc0Jsb2NrID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGNoaWxkLnR5cGUgPT09ICc7Jykge1xuICAgICAgLy8gU2tpcCAtIHNlbWljb2xvbiBoYW5kbGVkIGJ5IHBhcmVudCBiYXNlZCBvbiB3aGV0aGVyIHRoZXJlJ3MgYSBibG9ja1xuICAgICAgY29udGludWU7XG4gICAgfSBlbHNlIGlmIChjaGlsZC50eXBlID09PSAndHJhbnNmb3JtX2NoYWluJykge1xuICAgICAgLy8gTmVzdGVkIHRyYW5zZm9ybSBjaGFpblxuICAgICAgcGFydHMucHVzaCgnICcsIHByaW50VHJhbnNmb3JtQ2hhaW4oY2hpbGQsIG9wdGlvbnMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFydHMucHVzaChwcmludE5vZGUoY2hpbGQsIG9wdGlvbnMpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uY2F0KHBhcnRzKTtcbn1cblxuZnVuY3Rpb24gcHJpbnRCaW5hcnlFeHByZXNzaW9uKG5vZGU6IFRyZWVTaXR0ZXIuTm9kZSwgb3B0aW9uczogUmVxdWlyZWQ8Rm9ybWF0T3B0aW9ucz4pOiBEb2Mge1xuICBjb25zdCBwYXJ0czogRG9jW10gPSBbXTtcblxuICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHtcbiAgICBpZiAoIWNoaWxkKSBjb250aW51ZTtcbiAgICBpZiAoaXNPcGVyYXRvcihjaGlsZC50ZXh0KSkge1xuICAgICAgcGFydHMucHVzaCgnICcsIGNoaWxkLnRleHQsICcgJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcnRzLnB1c2gocHJpbnROb2RlKGNoaWxkLCBvcHRpb25zKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbmNhdChwYXJ0cyk7XG59XG5cbmZ1bmN0aW9uIHByaW50VW5hcnlFeHByZXNzaW9uKG5vZGU6IFRyZWVTaXR0ZXIuTm9kZSwgb3B0aW9uczogUmVxdWlyZWQ8Rm9ybWF0T3B0aW9ucz4pOiBEb2Mge1xuICBjb25zdCBvcGVyYXRvciA9IG5vZGUuY2hpbGQoMCk7XG4gIGNvbnN0IG9wZXJhbmQgPSBub2RlLmNoaWxkKDEpO1xuXG4gIGlmICghb3BlcmF0b3IgfHwgIW9wZXJhbmQpIHtcbiAgICByZXR1cm4gbm9kZS50ZXh0O1xuICB9XG5cbiAgLy8gSGFuZGxlIG5lZ2F0aXZlIG51bWJlcnMvZXhwcmVzc2lvbnMgKG5vIHNwYWNlIGZvciBtaW51cylcbiAgaWYgKG9wZXJhdG9yLnRleHQgPT09ICctJykge1xuICAgIHJldHVybiBjb25jYXQoW29wZXJhdG9yLnRleHQsIHByaW50Tm9kZShvcGVyYW5kLCBvcHRpb25zKV0pO1xuICB9XG5cbiAgLy8gT3RoZXIgdW5hcnkgb3BlcmF0b3JzIChsaWtlICEpXG4gIHJldHVybiBjb25jYXQoW29wZXJhdG9yLnRleHQsIHByaW50Tm9kZShvcGVyYW5kLCBvcHRpb25zKV0pO1xufVxuXG5mdW5jdGlvbiBwcmludENhbGxFeHByZXNzaW9uKG5vZGU6IFRyZWVTaXR0ZXIuTm9kZSwgb3B0aW9uczogUmVxdWlyZWQ8Rm9ybWF0T3B0aW9ucz4pOiBEb2Mge1xuICBjb25zdCBwYXJ0czogRG9jW10gPSBbXTtcblxuICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHtcbiAgICBpZiAoIWNoaWxkKSBjb250aW51ZTtcbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gJ2lkZW50aWZpZXInKSB7XG4gICAgICBwYXJ0cy5wdXNoKGNoaWxkLnRleHQpO1xuICAgIH0gZWxzZSBpZiAoY2hpbGQudHlwZSA9PT0gJ2FyZ3VtZW50cycpIHtcbiAgICAgIHBhcnRzLnB1c2gocHJpbnRBcmd1bWVudHMoY2hpbGQsIG9wdGlvbnMpKTtcbiAgICB9IGVsc2UgaWYgKGNoaWxkLnR5cGUgIT09ICc7JyAmJiBjaGlsZC50eXBlICE9PSAnd2hpdGVzcGFjZScgJiYgY2hpbGQudHlwZSAhPT0gJ1xcbicpIHtcbiAgICAgIHBhcnRzLnB1c2gocHJpbnROb2RlKGNoaWxkLCBvcHRpb25zKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbmNhdChwYXJ0cyk7XG59XG5cbmZ1bmN0aW9uIHByaW50QXJndW1lbnRzKG5vZGU6IFRyZWVTaXR0ZXIuTm9kZSwgb3B0aW9uczogUmVxdWlyZWQ8Rm9ybWF0T3B0aW9ucz4pOiBEb2Mge1xuICBjb25zdCBhcmdzOiBEb2NbXSA9IFtdO1xuXG4gIGZvciAoY29uc3QgY2hpbGQgb2Ygbm9kZS5jaGlsZHJlbikge1xuICAgIGlmICghY2hpbGQpIGNvbnRpbnVlO1xuICAgIGlmIChjaGlsZC50eXBlID09PSAnKCcgfHwgY2hpbGQudHlwZSA9PT0gJyknIHx8IGNoaWxkLnR5cGUgPT09ICcsJykge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChjaGlsZC50eXBlID09PSAnd2hpdGVzcGFjZScgfHwgY2hpbGQudHlwZSA9PT0gJ1xcbicpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBhcmdzLnB1c2gocHJpbnROb2RlKGNoaWxkLCBvcHRpb25zKSk7XG4gIH1cblxuICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJygpJztcbiAgfVxuXG4gIHJldHVybiBjb25jYXQoW1xuICAgICcoJyxcbiAgICBqb2luKGNvbmNhdChbJywgJ10pLCBhcmdzKSxcbiAgICAnKScsXG4gIF0pO1xufVxuXG5mdW5jdGlvbiBwcmludExpc3Qobm9kZTogVHJlZVNpdHRlci5Ob2RlLCBvcHRpb25zOiBSZXF1aXJlZDxGb3JtYXRPcHRpb25zPik6IERvYyB7XG4gIGNvbnN0IGl0ZW1zOiBEb2NbXSA9IFtdO1xuICBjb25zdCBjaGlsZHJlbjogVHJlZVNpdHRlci5Ob2RlW10gPSBbXTtcbiAgbGV0IGZpcnN0SXRlbUxpbmUgPSAtMTtcbiAgbGV0IGxhc3RJdGVtTGluZSA9IC0xO1xuXG4gIGZvciAoY29uc3QgY2hpbGQgb2Ygbm9kZS5jaGlsZHJlbikge1xuICAgIGlmICghY2hpbGQpIGNvbnRpbnVlO1xuICAgIGlmIChjaGlsZC50eXBlID09PSAnWycgfHwgY2hpbGQudHlwZSA9PT0gJ10nIHx8IGNoaWxkLnR5cGUgPT09ICcsJykge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChjaGlsZC50eXBlID09PSAnd2hpdGVzcGFjZScgfHwgY2hpbGQudHlwZSA9PT0gJ1xcbicpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIFRyYWNrIGxpbmUgcG9zaXRpb25zIHRvIGRldGVjdCBtdWx0aWxpbmUgYXJyYXlzXG4gICAgaWYgKGZpcnN0SXRlbUxpbmUgPT09IC0xKSB7XG4gICAgICBmaXJzdEl0ZW1MaW5lID0gY2hpbGQuc3RhcnRQb3NpdGlvbi5yb3c7XG4gICAgfVxuICAgIGxhc3RJdGVtTGluZSA9IGNoaWxkLmVuZFBvc2l0aW9uLnJvdztcblxuICAgIGNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgIGl0ZW1zLnB1c2gocHJpbnROb2RlKGNoaWxkLCBvcHRpb25zKSk7XG4gIH1cblxuICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuICdbXSc7XG4gIH1cblxuICAvLyBDaGVjayBpZiBhcnJheSB3YXMgb3JpZ2luYWxseSBtdWx0aWxpbmVcbiAgY29uc3QgaXNNdWx0aWxpbmUgPSBsYXN0SXRlbUxpbmUgPiBmaXJzdEl0ZW1MaW5lO1xuXG4gIGlmIChpc011bHRpbGluZSAmJiBpdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgLy8gRm9ybWF0IGFzIG11bHRpbGluZSB3aXRoIFByZXR0aWVyLXN0eWxlIGZvcm1hdHRpbmdcbiAgICAvLyBFYWNoIGl0ZW0gb24gaXRzIG93biBsaW5lIHdpdGggY29tbWEsIGNsb3NpbmcgYnJhY2tldCB1bmluZGVudGVkXG4gICAgY29uc3QgcGFydHM6IERvY1tdID0gW107XG5cbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XG4gICAgICBwYXJ0cy5wdXNoKGl0ZW0pO1xuICAgICAgaWYgKGkgPCBpdGVtcy5sZW5ndGggLSAxKSB7XG4gICAgICAgIHBhcnRzLnB1c2goJywnKTtcbiAgICAgICAgcGFydHMucHVzaChoYXJkbGluZSgpKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBjb25jYXQoW1xuICAgICAgJ1snLFxuICAgICAgaW5kZW50KGNvbmNhdChbaGFyZGxpbmUoKSwgLi4ucGFydHNdKSksXG4gICAgICBoYXJkbGluZSgpLFxuICAgICAgJ10nLFxuICAgIF0pO1xuICB9XG5cbiAgLy8gS2VlcCBzaW5nbGUtbGluZSBhcnJheXMgY29tcGFjdDogWzEsIDIsIDNdIG5vdCBbIDEsIDIsIDMgXVxuICByZXR1cm4gY29uY2F0KFtcbiAgICAnWycsXG4gICAgam9pbignLCAnLCBpdGVtcyksXG4gICAgJ10nLFxuICBdKTtcbn1cblxuZnVuY3Rpb24gcHJpbnRSYW5nZShub2RlOiBUcmVlU2l0dGVyLk5vZGUsIG9wdGlvbnM6IFJlcXVpcmVkPEZvcm1hdE9wdGlvbnM+KTogRG9jIHtcbiAgY29uc3QgcGFydHM6IERvY1tdID0gW107XG5cbiAgZm9yIChjb25zdCBjaGlsZCBvZiBub2RlLmNoaWxkcmVuKSB7XG4gICAgaWYgKCFjaGlsZCkgY29udGludWU7XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09ICd3aGl0ZXNwYWNlJyB8fCBjaGlsZC50eXBlID09PSAnXFxuJykge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChjaGlsZC50eXBlID09PSAnOicpIHtcbiAgICAgIHBhcnRzLnB1c2goY2hpbGQudGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcnRzLnB1c2gocHJpbnROb2RlKGNoaWxkLCBvcHRpb25zKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbmNhdChwYXJ0cyk7XG59XG5cbmZ1bmN0aW9uIHByaW50VGVybmFyeUV4cHJlc3Npb24obm9kZTogVHJlZVNpdHRlci5Ob2RlLCBvcHRpb25zOiBSZXF1aXJlZDxGb3JtYXRPcHRpb25zPik6IERvYyB7XG4gIGNvbnN0IHBhcnRzOiBEb2NbXSA9IFtdO1xuXG4gIGZvciAoY29uc3QgY2hpbGQgb2Ygbm9kZS5jaGlsZHJlbikge1xuICAgIGlmICghY2hpbGQpIGNvbnRpbnVlO1xuICAgIGlmIChjaGlsZC50eXBlID09PSAnd2hpdGVzcGFjZScgfHwgY2hpbGQudHlwZSA9PT0gJ1xcbicpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gJz8nKSB7XG4gICAgICBwYXJ0cy5wdXNoKCcgJywgY2hpbGQudGV4dCwgJyAnKTtcbiAgICB9IGVsc2UgaWYgKGNoaWxkLnR5cGUgPT09ICc6Jykge1xuICAgICAgcGFydHMucHVzaCgnICcsIGNoaWxkLnRleHQsICcgJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcnRzLnB1c2gocHJpbnROb2RlKGNoaWxkLCBvcHRpb25zKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbmNhdChwYXJ0cyk7XG59XG5cbmZ1bmN0aW9uIHByaW50SW5kZXhFeHByZXNzaW9uKG5vZGU6IFRyZWVTaXR0ZXIuTm9kZSwgb3B0aW9uczogUmVxdWlyZWQ8Rm9ybWF0T3B0aW9ucz4pOiBEb2Mge1xuICBjb25zdCBwYXJ0czogRG9jW10gPSBbXTtcblxuICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHtcbiAgICBpZiAoIWNoaWxkKSBjb250aW51ZTtcbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gJ3doaXRlc3BhY2UnIHx8IGNoaWxkLnR5cGUgPT09ICdcXG4nKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgcGFydHMucHVzaChwcmludE5vZGUoY2hpbGQsIG9wdGlvbnMpKTtcbiAgfVxuXG4gIHJldHVybiBjb25jYXQocGFydHMpO1xufVxuXG5mdW5jdGlvbiBwcmludERvdEluZGV4RXhwcmVzc2lvbihub2RlOiBUcmVlU2l0dGVyLk5vZGUsIG9wdGlvbnM6IFJlcXVpcmVkPEZvcm1hdE9wdGlvbnM+KTogRG9jIHtcbiAgY29uc3QgcGFydHM6IERvY1tdID0gW107XG5cbiAgZm9yIChjb25zdCBjaGlsZCBvZiBub2RlLmNoaWxkcmVuKSB7XG4gICAgaWYgKCFjaGlsZCkgY29udGludWU7XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09ICd3aGl0ZXNwYWNlJyB8fCBjaGlsZC50eXBlID09PSAnXFxuJykge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHBhcnRzLnB1c2gocHJpbnROb2RlKGNoaWxkLCBvcHRpb25zKSk7XG4gIH1cblxuICByZXR1cm4gY29uY2F0KHBhcnRzKTtcbn1cblxuZnVuY3Rpb24gcHJpbnRQYXJlbnRoZXNpemVkRXhwcmVzc2lvbihub2RlOiBUcmVlU2l0dGVyLk5vZGUsIG9wdGlvbnM6IFJlcXVpcmVkPEZvcm1hdE9wdGlvbnM+KTogRG9jIHtcbiAgY29uc3QgcGFydHM6IERvY1tdID0gWycoJ107XG5cbiAgZm9yIChjb25zdCBjaGlsZCBvZiBub2RlLmNoaWxkcmVuKSB7XG4gICAgaWYgKCFjaGlsZCkgY29udGludWU7XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09ICcoJyB8fCBjaGlsZC50eXBlID09PSAnKScpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gJ3doaXRlc3BhY2UnIHx8IGNoaWxkLnR5cGUgPT09ICdcXG4nKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgcGFydHMucHVzaChwcmludE5vZGUoY2hpbGQsIG9wdGlvbnMpKTtcbiAgfVxuXG4gIHBhcnRzLnB1c2goJyknKTtcbiAgcmV0dXJuIGNvbmNhdChwYXJ0cyk7XG59XG5cbmZ1bmN0aW9uIHByaW50VXNlU3RhdGVtZW50KG5vZGU6IFRyZWVTaXR0ZXIuTm9kZSwgb3B0aW9uczogUmVxdWlyZWQ8Rm9ybWF0T3B0aW9ucz4pOiBEb2Mge1xuICBjb25zdCBwYXJ0czogRG9jW10gPSBbXTtcblxuICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHtcbiAgICBpZiAoIWNoaWxkKSBjb250aW51ZTtcbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gJ3doaXRlc3BhY2UnIHx8IGNoaWxkLnR5cGUgPT09ICdcXG4nKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09ICd1c2UnKSB7XG4gICAgICBwYXJ0cy5wdXNoKGNoaWxkLnRleHQsICcgJyk7XG4gICAgfSBlbHNlIGlmIChjaGlsZC50eXBlID09PSAnaW5jbHVkZV9wYXRoJykge1xuICAgICAgcGFydHMucHVzaChjaGlsZC50ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFydHMucHVzaChwcmludE5vZGUoY2hpbGQsIG9wdGlvbnMpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uY2F0KHBhcnRzKTtcbn1cblxuZnVuY3Rpb24gcHJpbnRBc3NlcnQobm9kZTogVHJlZVNpdHRlci5Ob2RlLCBvcHRpb25zOiBSZXF1aXJlZDxGb3JtYXRPcHRpb25zPik6IERvYyB7XG4gIGNvbnN0IHBhcnRzOiBEb2NbXSA9IFsnYXNzZXJ0J107XG5cbiAgZm9yIChjb25zdCBjaGlsZCBvZiBub2RlLmNoaWxkcmVuKSB7XG4gICAgaWYgKCFjaGlsZCkgY29udGludWU7XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09ICdhc3NlcnQnKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09ICd3aGl0ZXNwYWNlJyB8fCBjaGlsZC50eXBlID09PSAnXFxuJykge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHBhcnRzLnB1c2gocHJpbnROb2RlKGNoaWxkLCBvcHRpb25zKSk7XG4gIH1cblxuICByZXR1cm4gY29uY2F0KHBhcnRzKTtcbn1cblxuZnVuY3Rpb24gcHJpbnRNb2RpZmllckNoYWluKG5vZGU6IFRyZWVTaXR0ZXIuTm9kZSwgb3B0aW9uczogUmVxdWlyZWQ8Rm9ybWF0T3B0aW9ucz4pOiBEb2Mge1xuICBjb25zdCBwYXJ0czogRG9jW10gPSBbXTtcblxuICBmb3IgKGNvbnN0IGNoaWxkIG9mIG5vZGUuY2hpbGRyZW4pIHtcbiAgICBpZiAoIWNoaWxkKSBjb250aW51ZTtcbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gJ3doaXRlc3BhY2UnIHx8IGNoaWxkLnR5cGUgPT09ICdcXG4nKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09ICdtb2RpZmllcicpIHtcbiAgICAgIHBhcnRzLnB1c2goY2hpbGQudGV4dCk7XG4gICAgfSBlbHNlIGlmIChjaGlsZC50eXBlID09PSAnbW9kdWxlX2NhbGwnIHx8IGNoaWxkLnR5cGUgPT09ICdmdW5jdGlvbl9jYWxsJyB8fCBjaGlsZC50eXBlID09PSAndHJhbnNmb3JtX2NoYWluJykge1xuICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcGFydHMucHVzaCgnICcpO1xuICAgICAgfVxuICAgICAgcGFydHMucHVzaChwcmludE5vZGUoY2hpbGQsIG9wdGlvbnMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFydHMucHVzaChwcmludE5vZGUoY2hpbGQsIG9wdGlvbnMpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uY2F0KHBhcnRzKTtcbn1cblxuZnVuY3Rpb24gcHJpbnRJbnRlcnNlY3Rpb25Gb3Iobm9kZTogVHJlZVNpdHRlci5Ob2RlLCBvcHRpb25zOiBSZXF1aXJlZDxGb3JtYXRPcHRpb25zPik6IERvYyB7XG4gIGNvbnN0IHBhcnRzOiBEb2NbXSA9IFsnaW50ZXJzZWN0aW9uX2ZvcicsICcgJ107XG4gIGxldCBibG9jazogRG9jIHwgbnVsbCA9IG51bGw7XG5cbiAgZm9yIChjb25zdCBjaGlsZCBvZiBub2RlLmNoaWxkcmVuKSB7XG4gICAgaWYgKCFjaGlsZCkgY29udGludWU7XG5cbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gJ2ludGVyc2VjdGlvbl9mb3InKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9IGVsc2UgaWYgKGNoaWxkLnR5cGUgPT09ICdwYXJlbnRoZXNpemVkX2Fzc2lnbm1lbnRzJykge1xuICAgICAgcGFydHMucHVzaChwcmludFBhcmVudGhlc2l6ZWRBc3NpZ25tZW50cyhjaGlsZCwgb3B0aW9ucykpO1xuICAgIH0gZWxzZSBpZiAoY2hpbGQudHlwZSA9PT0gJ2Jsb2NrJyB8fCBjaGlsZC50eXBlID09PSAndW5pb25fYmxvY2snKSB7XG4gICAgICBibG9jayA9IHByaW50Tm9kZShjaGlsZCwgb3B0aW9ucyk7XG4gICAgfSBlbHNlIGlmIChjaGlsZC50eXBlICE9PSAnOycgJiYgY2hpbGQudHlwZSAhPT0gJ3doaXRlc3BhY2UnICYmIGNoaWxkLnR5cGUgIT09ICdcXG4nKSB7XG4gICAgICBwYXJ0cy5wdXNoKHByaW50Tm9kZShjaGlsZCwgb3B0aW9ucykpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChibG9jaykge1xuICAgIHBhcnRzLnB1c2goJyAnLCBibG9jayk7XG4gIH1cblxuICByZXR1cm4gY29uY2F0KHBhcnRzKTtcbn1cblxuZnVuY3Rpb24gcHJpbnRDaGlsZHJlbihub2RlOiBUcmVlU2l0dGVyLk5vZGUsIG9wdGlvbnM6IFJlcXVpcmVkPEZvcm1hdE9wdGlvbnM+KTogRG9jIHtcbiAgY29uc3QgcGFydHM6IERvY1tdID0gW107XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlLmNoaWxkQ291bnQ7IGkrKykge1xuICAgIGNvbnN0IGNoaWxkID0gbm9kZS5jaGlsZChpKTtcbiAgICBpZiAoIWNoaWxkKSBjb250aW51ZTtcbiAgICBwYXJ0cy5wdXNoKHByaW50Tm9kZShjaGlsZCwgb3B0aW9ucykpO1xuICB9XG5cbiAgcmV0dXJuIGNvbmNhdChwYXJ0cyk7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbnNcblxuZnVuY3Rpb24gaXNEZWNsYXJhdGlvbih0eXBlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIHR5cGUgPT09ICdtb2R1bGVfZGVjbGFyYXRpb24nIHx8IHR5cGUgPT09ICdmdW5jdGlvbl9kZWNsYXJhdGlvbic7XG59XG5cbmZ1bmN0aW9uIG5lZWRzU2VtaWNvbG9uKHR5cGU6IHN0cmluZywgbm9kZT86IFRyZWVTaXR0ZXIuTm9kZSk6IGJvb2xlYW4ge1xuICBpZiAodHlwZSA9PT0gJ2Fzc2lnbm1lbnQnKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHR5cGUgPT09ICd0cmFuc2Zvcm1fY2hhaW4nICYmIG5vZGUpIHtcbiAgICAvLyBPbmx5IGFkZCBzZW1pY29sb24gaWYgdHJhbnNmb3JtIGNoYWluIGRvZXNuJ3QgaGF2ZSBhIGJsb2NrXG4gICAgY29uc3QgaGFzQmxvY2sgPSBoYXNDaGlsZE9mVHlwZShub2RlLCAndW5pb25fYmxvY2snKSB8fCBoYXNDaGlsZE9mVHlwZShub2RlLCAnYmxvY2snKTtcbiAgICByZXR1cm4gIWhhc0Jsb2NrO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaGFzQ2hpbGRPZlR5cGUobm9kZTogVHJlZVNpdHRlci5Ob2RlLCB0eXBlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgZm9yIChjb25zdCBjaGlsZCBvZiBub2RlLmNoaWxkcmVuKSB7XG4gICAgaWYgKGNoaWxkICYmIGNoaWxkLnR5cGUgPT09IHR5cGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzT3BlcmF0b3IodGV4dDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBbJysnLCAnLScsICcqJywgJy8nLCAnJScsICc9PScsICchPScsICc8JywgJz4nLCAnPD0nLCAnPj0nLCAnJiYnLCAnfHwnLCAnISddLmluY2x1ZGVzKHRleHQpO1xufVxuXG4vKipcbiAqIENvbnZlcnQgRG9jIElSIHRvIGFjdHVhbCBzdHJpbmcgb3V0cHV0XG4gKi9cbmZ1bmN0aW9uIHByaW50RG9jKGRvYzogRG9jLCBvcHRpb25zOiBSZXF1aXJlZDxGb3JtYXRPcHRpb25zPiwgbW9kZTogJ2ZsYXQnIHwgJ2JyZWFrJyA9ICdicmVhaycpOiBzdHJpbmcge1xuICBjb25zdCBpbmRlbnRTdHIgPSBvcHRpb25zLnVzZVRhYnMgPyAnXFx0JyA6ICcgJy5yZXBlYXQob3B0aW9ucy5pbmRlbnRTaXplKTtcbiAgbGV0IG91dHB1dCA9ICcnO1xuICBsZXQgaW5kZW50TGV2ZWwgPSAwO1xuXG4gIGZ1bmN0aW9uIHByaW50KGQ6IERvYywgbTogJ2ZsYXQnIHwgJ2JyZWFrJyA9IG1vZGUpOiB2b2lkIHtcbiAgICBpZiAodHlwZW9mIGQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBvdXRwdXQgKz0gZDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShkKSkge1xuICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIGQpIHtcbiAgICAgICAgcHJpbnQocGFydCwgbSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3dpdGNoIChkLnR5cGUpIHtcbiAgICAgIGNhc2UgJ2NvbmNhdCc6XG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBkLnBhcnRzKSB7XG4gICAgICAgICAgcHJpbnQocGFydCwgbSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2xpbmUnOlxuICAgICAgICBpZiAoZC5oYXJkIHx8IG0gPT09ICdicmVhaycpIHtcbiAgICAgICAgICBvdXRwdXQgKz0gJ1xcbicgKyBpbmRlbnRTdHIucmVwZWF0KGluZGVudExldmVsKTtcbiAgICAgICAgfSBlbHNlIGlmICghZC5zb2Z0KSB7XG4gICAgICAgICAgb3V0cHV0ICs9ICcgJztcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnZ3JvdXAnOlxuICAgICAgICBwcmludChkLmNvbnRlbnRzLCBkLnNob3VsZEJyZWFrID8gJ2JyZWFrJyA6ICdmbGF0Jyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdpbmRlbnQnOlxuICAgICAgICBpbmRlbnRMZXZlbCsrO1xuICAgICAgICBwcmludChkLmNvbnRlbnRzLCBtKTtcbiAgICAgICAgaW5kZW50TGV2ZWwtLTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2lmLWJyZWFrJzpcbiAgICAgICAgcHJpbnQobSA9PT0gJ2JyZWFrJyA/IGQuYnJlYWtDb250ZW50cyA6IGQuZmxhdENvbnRlbnRzLCBtKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2ZpbGwnOlxuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgZC5wYXJ0cykge1xuICAgICAgICAgIHByaW50KHBhcnQsIG0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHByaW50KGRvYyk7XG5cbiAgLy8gUmVtb3ZlIHRyYWlsaW5nIHdoaXRlc3BhY2UgZnJvbSBlYWNoIGxpbmVcbiAgcmV0dXJuIG91dHB1dC5zcGxpdCgnXFxuJykubWFwKGxpbmUgPT4gbGluZS50cmltRW5kKCkpLmpvaW4oJ1xcbicpO1xufVxuIl0sInZlcnNpb24iOjN9